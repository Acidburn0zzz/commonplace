#!/usr/bin/env node

function help() {
    console.log([
        'Usage:',
        '  commonplace <command>',
        '',
        'Commands:',
        '  extract_strings  This command will extract strings into a `.pot` file.',
        '  langpacks        This command will generate langpacks out of `.po` files.',
        '  lint             Lints the current project.',
        '  fiddle           Installs Commonplace project dependencies.',
        '',
        'Read more: https://github.com/mozilla/commonplace/wiki/CLI-Tools'
    ].join('\n'));
}

process.title = 'commonplace';

var argv = process.argv.slice(2);
if (!argv.length) {
    console.error('Not enough arguments passed.');
    help();
    process.exit();
}

var commonplace = require('../lib/commonplace');

switch (argv[0]) {
    case 'extract_strings':
        commonplace.extract_l10n();
        break;
    case 'langpacks':
        commonplace.generate_langpacks();
        break;
    case 'lint':
        commonplace.lint();
        break;
    case 'fiddle':
        commonplace.fiddle();
        break;
    case 'help':
        help();
        break;
    default:
        console.error('Unrecognized command "' + argv[0] + '"');
        help();
}
